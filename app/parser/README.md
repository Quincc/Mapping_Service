## üìÅ app/parser

–ú–æ–¥—É–ª—å `parser` –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –∏ –∞–Ω–∞–ª–∏–∑ –≤—Ö–æ–¥–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤, –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏. –í–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è –ø–∞—Ä—Å–∏–Ω–≥, –≤–∞–ª–∏–¥–∞—Ü–∏—é –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –æ—Ç—á—ë—Ç–æ–≤ –æ –∫–∞—á–µ—Å—Ç–≤–µ –¥–∞–Ω–Ω—ã—Ö.

---

### üî¨ –°–æ—Å—Ç–∞–≤

* `pipeline.py` ‚Äî –≥–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª, —Ä–µ–∞–ª–∏–∑—É—é—â–∏–π –∑–∞–ø—É—Å–∫ –ø–∞–π–ø–ª–∞–π–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏: –æ—Ç –∑–∞–≥—Ä—É–∑–∫–∏ –∏ —á—Ç–µ–Ω–∏—è —Ñ–∞–π–ª–∞ –¥–æ –æ—Ç—á—ë—Ç–∞.
* `preview.py` ‚Äî –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä –¥–∞–Ω–Ω—ã—Ö (–Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—Ç—Ä–æ–∫ —Ç–∞–±–ª–∏—Ü—ã).
* `readers.py` ‚Äî —Å–æ–¥–µ—Ä–∂–∏—Ç —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é `parse_file`, –∫–æ—Ç–æ—Ä–∞—è –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ñ–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞ (CSV, JSON, Excel) –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `pandas.DataFrame`.
* `exceptions.py` ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π —Ñ–∞–π–ª–æ–≤.
* `test_readers.py` ‚Äî –º–æ–¥—É–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è `readers.py`.

---

### üîß pipeline.py

–û—Å–Ω–æ–≤–Ω–æ–π –≤—Ö–æ–¥ –≤ –ø–∞–π–ø–ª–∞–π–Ω:

```python
async def run_full_pipeline(project_id: str, file_path: str):
```

–≠—Ç–∞–ø—ã:

* –ß—Ç–µ–Ω–∏–µ –∏ –ø–∞—Ä—Å–∏–Ω–≥ —Ñ–∞–π–ª–∞ —á–µ—Ä–µ–∑ `parse_file()`
* –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –¥–∞–Ω–Ω—ã—Ö
* –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ API (–µ—Å–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ)

---

### ‚úèÔ∏è preview\.py

–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –ø–µ—Ä–≤—ã–µ `n` —Å—Ç—Ä–æ–∫ —Ñ–∞–π–ª–∞ (–æ–±—ã—á–Ω–æ 5) ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ UI.

---

### üîç readers.py

–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã:

* `.csv` ‚Äî `pd.read_csv`
* `.json` ‚Äî `pd.read_json`
* `.xlsx` ‚Äî `pd.read_excel`

–§—É–Ω–∫—Ü–∏—è:

```python
def parse_file(path: Path) -> pd.DataFrame
```

---

### üìä test\_readers.py

–ü–æ–∫—Ä—ã–≤–∞–µ—Ç —Ç–µ—Å—Ç–∞–º–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Ä–∞–∑–±–æ—Ä–∞ —Ñ–∞–π–ª–æ–≤:

* CSV: –Ω–∞–ª–∏—á–∏–µ –∫–æ–ª–æ–Ω–æ–∫, –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ç–∏–ø —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
* JSON: –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –∑–Ω–∞—á–µ–Ω–∏–π

---

### ‚ö†Ô∏è –ò—Å–∫–ª—é—á–µ–Ω–∏—è

`InvalidFileFormat`, `EmptyFileError` –∏ –¥—Ä—É–≥–∏–µ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏

---

### üîÑ –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ

–í—ã–∑–æ–≤ –º–æ–¥—É–ª—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∏–∑ `app/upload/tasks.py`, —á–µ—Ä–µ–∑ `run_full_pipeline()`

---

### üìÖ TODO / —É–ª—É—á—à–µ–Ω–∏—è

* [ ] –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–∏–ø–æ–≤ –æ—à–∏–±–æ–∫ –ø–∞—Ä—Å–∏–Ω–≥–∞
* [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ (Parquet, XML)
* [ ] –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π –æ–± –æ—à–∏–±–∫–∞—Ö
